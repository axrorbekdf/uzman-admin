import{u as h,_ as f}from"./D7Y6F0oq.js";import{_ as v}from"./CGn5A7Od.js";import{L as y,h as L,K as F,I as a,o as n,x as _,c as g,b as k}from"./BwuoVgSa.js";import{u as l}from"./CkKw5vfm.js";import"./B0B3R0cj.js";import"./CHAKl97U.js";import"./C906BHfi.js";import"./cTasHr8w.js";const r={index(t){return l()("level/index",{method:"GET",params:t})},forOptions(){return l()("level/for/options",{method:"GET"})},view(t){return l()(`level/view/${t}`,{method:"GET"})},store(t){return l()("level/store",{method:"POST",body:t})},update(t,e){return l()(`level/update/${t}`,{method:"PUT",body:e})},delete(t){return l()(`level/delete/${t}`,{method:"DELETE"})}},b=y("level",{state:()=>({level:null,categories:[],model:{modelForForm:{entity:{id:void 0,name:void 0},formTemplate:[{label:"Level nomi",name:"name"}],rules:{name:{rule:"required",message:"To'ldirilishi kerak"}}},columns:[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"date",label:"Sana",sortable:!0},{key:"actions"}]}}),getters:{level:t=>t.level,getList:t=>t.categories},actions:{async getAllList(){try{r.forOptions().then(t=>{this.categories=t.resoult.data}).catch(t=>{console.error("Failed to load posts:",t)})}catch(t){console.error("Failed to load posts:",t)}},async createLevel(t){try{r.store(t).then(e=>{this.getAllList()}).catch(e=>{console.error("Failed to load posts:",e)})}catch(e){console.error("Failed to load posts:",e)}},async updateLevel(t,e){try{r.update(t,e).then(o=>{this.getAllList()}).catch(o=>{console.error("Failed to load posts:",o)})}catch(o){console.error("Failed to load posts:",o)}},async deleteLevel(t){try{r.delete(t).then(e=>{this.getAllList()}).catch(e=>{console.error("Failed to load posts:",e)})}catch(e){console.error("Failed to load posts:",e)}}}}),E={key:1},D=L({__name:"index",setup(t){const e=h(),o=b();F(async()=>{o.getAllList()});function d(){o.model.modelForForm.entity={id:void 0,name:void 0}}function i(){e.set(!0),o.createLevel(o.model.modelForForm.entity).then(s=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}function c(){e.set(!0),o.updateLevel(o.model.modelForForm.entity.id??0,o.model.modelForForm.entity).then(s=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}function m(){console.log(o.model.modelForForm.entity.id??0),e.set(!0),o.deleteLevel(o.model.modelForForm.entity.id??0).then(s=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}return(s,S)=>{const u=f,p=v;return a(e).isLoading?(n(),_(u,{key:0})):(n(),g("div",E,[k(p,{data:a(o).getList,model:a(o).model,"clear-entity":d,"create-model":i,"update-model":c,"delete-model":m},null,8,["data","model"])]))}}});export{D as default};
