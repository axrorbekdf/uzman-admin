import{u as k,_ as y}from"./dCH5DhQ6.js";import{_ as h}from"./BNPpijYB.js";import{L as f,h as x,K as E,I as l,o as m,x as _,c as F,b as g}from"./Be7rl1fj.js";import{u as r}from"./CkKw5vfm.js";import"./B2Fxs94Q.js";import"./VnilOB_E.js";import"./C0oNA2KS.js";import"./C8fKHatr.js";const a={index(t){return r()("master/example/work/index",{method:"GET",params:t})},forOptions(){return r()("master/example/work/for/options",{method:"GET"})},view(t){return r()(`master/example/work/view/${t}`,{method:"GET"})},store(t){return r()("master/example/work/store",{method:"POST",body:t})},update(t,e){return r()(`master/example/work/update/${t}`,{method:"PUT",body:e})},delete(t){return r()(`master/example/work/delete/${t}`,{method:"DELETE"})}},W=f("masterExampleWork",{state:()=>({masterExampleWork:null,masterExampleWorks:[],masters:[],model:{modelForForm:{entity:{id:void 0,images:void 0,master_id:void 0},viewEntity:{id:{name:"ID",type:"number"},images:{name:"Rasmlar",type:"file"},master:{name:"Master",type:"object",relation:"name"}},formTemplate:[{label:"Rasmlar",name:"images"},{label:"Master",name:"master_id",type:"model",model:[]}],rules:{images:{rule:"required",message:"To'ldirilishi kerak"},master_id:{rule:"required",message:"To'ldirilishi kerak"}}},columns:[{key:"id",label:"ID",sortable:!0},{key:"images",label:"Rasmlar",sortable:!0},{key:"master.name",label:"Master",sortable:!0},{key:"date",label:"Sana",sortable:!0},{key:"actions"}]}}),getters:{masterExampleWork:t=>t.masterExampleWork,getList:t=>t.masterExampleWorks},actions:{async getAllList(){try{a.forOptions().then(t=>{this.masterExampleWorks=t.resoult.data}).catch(t=>{console.error("Failed to load posts:",t)})}catch(t){console.error("Failed to load posts:",t)}},async createMasterExampleWork(t){try{a.store(t).then(e=>{this.getAllList()}).catch(e=>{console.error("Failed to load posts:",e)})}catch(e){console.error("Failed to load posts:",e)}},async updateMasterExampleWork(t,e){try{a.update(t,e).then(o=>{this.getAllList()}).catch(o=>{console.error("Failed to load posts:",o)})}catch(o){console.error("Failed to load posts:",o)}},async deleteMasterExampleWork(t){try{a.delete(t).then(e=>{this.getAllList()}).catch(e=>{console.error("Failed to load posts:",e)})}catch(e){console.error("Failed to load posts:",e)}}}}),M={key:1},D=x({__name:"index",setup(t){const e=k(),o=W();E(async()=>{o.getAllList()});function i(){o.model.modelForForm.entity={id:void 0,images:void 0,master_id:void 0}}function d(){e.set(!0),o.createMasterExampleWork(o.model.modelForForm.entity).then(s=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}function n(){e.set(!0),o.updateMasterExampleWork(o.model.modelForForm.entity.id??0,o.model.modelForForm.entity).then(s=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}function c(){console.log(o.model.modelForForm.entity.id??0),e.set(!0),o.deleteMasterExampleWork(o.model.modelForForm.entity.id??0).then(s=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}return(s,b)=>{const p=y,u=h;return l(e).isLoading?(m(),_(p,{key:0})):(m(),F("div",M,[g(u,{data:l(o).getList,model:l(o).model,"clear-entity":i,"create-model":d,"update-model":n,"delete-model":c},null,8,["data","model"])]))}}});export{D as default};
