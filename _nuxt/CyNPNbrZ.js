import{u as y,_ as b}from"./dCH5DhQ6.js";import{_ as h}from"./BNPpijYB.js";import{L as g,h as k,K as v,I as s,o as l,x as _,c as f,b as F}from"./Be7rl1fj.js";import{u as r}from"./CkKw5vfm.js";import"./B2Fxs94Q.js";import"./VnilOB_E.js";import"./C0oNA2KS.js";import"./C8fKHatr.js";const i={index(t){return r()("master/index",{method:"GET",params:t})},forOptions(){return r()("master/for/options",{method:"GET"})},view(t){return r()(`master/view/${t}`,{method:"GET"})},store(t){return r()("master/store",{method:"POST",body:t})},update(t,e){return r()(`master/update/${t}`,{method:"PUT",body:e})},delete(t){return r()(`master/delete/${t}`,{method:"DELETE"})}},T=g("master",{state:()=>({master:null,masters:[],model:{modelForForm:{entity:{id:void 0,name:void 0,phone:void 0,price:void 0,time:void 0,verify:void 0,experience:void 0,image:void 0,pasport_image:void 0,about:void 0,level_id:void 0,specialist_id:void 0,user_id:void 0},viewEntity:{id:{name:"ID",type:"number"},name:{name:"Nomi",type:"string"},phone:{name:"Telefon",type:"string"},price:{name:"Narx",type:"string"},time:{name:"Vaqt",type:"string"},verify:{name:"Tasdiqlash",type:"string"},experience:{name:"Ish tajribasi",type:"string"},image:{name:"Rasm",type:"file"},pasport_image:{name:"Pasport rasm",type:"file"},about:{name:"Haqida",type:"string"},level_id:{name:"Darajasi",type:"object",relation:"name"},specialist_id:{name:"Mutaxasisligi",type:"object",relation:"name"},user_id:{name:"Foydalanuchi",type:"object",relation:"name"}},formTemplate:[{label:"Nomi",name:"name"},{label:"Telefon",name:"phone"},{label:"Narxi",name:"price"},{label:"Vaqt",name:"time"},{label:"Status",name:"verify"},{label:"Ish staji",name:"experience"},{label:"Rasm",name:"image"},{label:"Pasport image",name:"pasport_image"},{label:"Haqida",name:"about"},{label:"Level",name:"level_id"},{label:"Musaxasisligi",name:"specialist_id"},{label:"Login",name:"user_id"}],rules:{name:{rule:"required",message:"To'ldirilishi kerak"},phone:{rule:"required",message:"To'ldirilishi kerak"},price:{rule:"required",message:"To'ldirilishi kerak"},time:{rule:"required",message:"To'ldirilishi kerak"},verify:{rule:"required",message:"To'ldirilishi kerak"},experience:{rule:"required",message:"To'ldirilishi kerak"},image:{rule:"required",message:"To'ldirilishi kerak"},pasport_image:{rule:"required",message:"To'ldirilishi kerak"},about:{rule:"required",message:"To'ldirilishi kerak"},level_id:{rule:"required",message:"To'ldirilishi kerak"},specialist_id:{rule:"required",message:"To'ldirilishi kerak"},user_id:{rule:"required",message:"To'ldirilishi kerak"}}},columns:[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"phone",label:"Telefoni",sortable:!0},{key:"price",label:"Narxi",sortable:!0},{key:"time",label:"Vaqt",sortable:!0},{key:"verify",label:"Status",sortable:!0},{key:"experience",label:"Ish tajribasi",sortable:!0},{key:"image",label:"Rasm",sortable:!0},{key:"pasport_image",label:"Pasport rasm",sortable:!0},{key:"about",label:"Haqida",sortable:!0},{key:"level.name",label:"Daraja",sortable:!0},{key:"specialist.name",label:"Mutaxasisligi",sortable:!0},{key:"Login",label:"user.name",sortable:!0},{key:"date",label:"Sana",sortable:!0},{key:"actions"}]}}),getters:{master:t=>t.master,getList:t=>t.masters},actions:{async getAllList(){try{i.forOptions().then(t=>{this.masters=t.resoult.data}).catch(t=>{console.error("Failed to load posts:",t)})}catch(t){console.error("Failed to load posts:",t)}},async createMaster(t){try{i.store(t).then(e=>{this.getAllList()}).catch(e=>{console.error("Failed to load posts:",e)})}catch(e){console.error("Failed to load posts:",e)}},async updateMaster(t,e){try{i.update(t,e).then(a=>{this.getAllList()}).catch(a=>{console.error("Failed to load posts:",a)})}catch(a){console.error("Failed to load posts:",a)}},async deleteMaster(t){try{i.delete(t).then(e=>{this.getAllList()}).catch(e=>{console.error("Failed to load posts:",e)})}catch(e){console.error("Failed to load posts:",e)}}}}),q={key:1},D=k({__name:"index",setup(t){const e=y(),a=T();v(async()=>{a.getAllList()});function n(){a.model.modelForForm.entity={id:void 0,name:void 0,phone:void 0,price:void 0,time:void 0,verify:void 0,experience:void 0,image:void 0,pasport_image:void 0,about:void 0,level_id:void 0,specialist_id:void 0,user_id:void 0}}function d(){e.set(!0),a.createMaster(a.model.modelForForm.entity).then(o=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}function m(){e.set(!0),a.updateMaster(a.model.modelForForm.entity.id??0,a.model.modelForForm.entity).then(o=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}function c(){console.log(a.model.modelForForm.entity.id??0),e.set(!0),a.deleteMaster(a.model.modelForForm.entity.id??0).then(o=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}return(o,x)=>{const u=b,p=h;return s(e).isLoading?(l(),_(u,{key:0})):(l(),f("div",q,[F(p,{data:s(a).getList,model:s(a).model,"clear-entity":n,"create-model":d,"update-model":m,"delete-model":c},null,8,["data","model"])]))}}});export{D as default};
