import{u as p,_ as y}from"./OE-iVYja.js";import{_ as f}from"./T9zb2FQT.js";import{L as g,h as F,K as _,I as d,o as l,x as C,c as b,b as k}from"./CZtNgAxi.js";import{u as r}from"./CkKw5vfm.js";import"./K07SeaZw.js";import"./B_YYKSCv.js";import"./Du1CYpPk.js";import"./BZAvPXmG.js";const a={index(o){return r()("home/card/index",{method:"GET",params:o})},forOptions(){return r()("home/card/for/options",{method:"GET"})},view(o){return r()(`home/card/view/${o}`,{method:"GET"})},store(o){return r()("home/card/store",{method:"POST",body:o})},update(o,e){return r()(`home/card/update/${o}`,{method:"PUT",body:e})},delete(o){return r()(`home/card/delete/${o}`,{method:"DELETE"})}},H=g("homeCard",{state:()=>({homeCard:null,homeCards:[],model:{modelForForm:{entity:{id:void 0,name:void 0,image:void 0},viewEntity:{id:{name:"ID",type:"number"},name:{name:"Nomi",type:"string"},image:{name:"Image",type:"file"}},formTemplate:[{label:"Home card nomi",name:"name"},{label:"Home card image",name:"image"}],rules:{name:{rule:"required",message:"To'ldirilishi kerak"},image:{rule:"required",message:"To'ldirilishi kerak"}}},columns:[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"image",label:"Image",sortable:!0},{key:"date",label:"Sana",sortable:!0},{key:"actions"}]}}),getters:{homeCard:o=>o.homeCard,getList:o=>o.homeCards},actions:{async getAllList(){try{a.forOptions().then(o=>{this.homeCards=o.resoult.data}).catch(o=>{console.error("Failed to load posts:",o)})}catch(o){console.error("Failed to load posts:",o)}},async createHomeCard(o){try{a.store(o).then(e=>{this.getAllList()}).catch(e=>{console.error("Failed to load posts:",e)})}catch(e){console.error("Failed to load posts:",e)}},async updateHomeCard(o,e){try{a.update(o,e).then(t=>{this.getAllList()}).catch(t=>{console.error("Failed to load posts:",t)})}catch(t){console.error("Failed to load posts:",t)}},async deleteHomeCard(o){try{a.delete(o).then(e=>{this.getAllList()}).catch(e=>{console.error("Failed to load posts:",e)})}catch(e){console.error("Failed to load posts:",e)}}}}),L={key:1},B=F({__name:"index",setup(o){const e=p(),t=H();_(async()=>{t.getAllList()});function m(){t.model.modelForForm.entity={id:void 0,name:void 0,image:void 0}}function n(){e.set(!0),t.createHomeCard(t.model.modelForForm.entity).then(s=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}function i(){e.set(!0),t.updateHomeCard(t.model.modelForForm.entity.id??0,t.model.modelForForm.entity).then(s=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}function c(){console.log(t.model.modelForForm.entity.id??0),e.set(!0),t.deleteHomeCard(t.model.modelForForm.entity.id??0).then(s=>{e.set(!1)}).catch(()=>{e.set(!1)}).finally(()=>{e.set(!1)})}return(s,v)=>{const h=y,u=f;return d(e).isLoading?(l(),C(h,{key:0})):(l(),b("div",L,[k(u,{data:d(t).getList,model:d(t).model,"clear-entity":m,"create-model":n,"update-model":i,"delete-model":c},null,8,["data","model"])]))}}});export{B as default};
